###The Problem:###
Imagine a (initially empty) sequence of integers.  Integers can be added or removed from this sequence.  After each addition or successful removal of an integer, one of two things should happen, provided that the sequence is not empty.  If the number of integers in the sequence is odd, the median value should be displayed; if the number is even, then the average of the two median values should be displayed.  Every attempted removal is successful if and only if the value to be removed exists in the sequence.  If the attempted removal is unsuccessful, "Wrong!" should be displayed.  In addition, if the sequence is empty, "Wrong!" should also be displayed.
###The Solution:###
Considering the time constraints in running the program, it is essential to utilize one max-heap and one min-heap.  The two heaps should contain an equivalent amount of integers and are such that the root of the max-heap is less than or equal to the root of the min-heap.  If the total number of integers is odd, the root of the max-heap is also less than or equal to the median and likewise, the root of the min-heap is greater than or equal to the median.

Adding a value would then involve designating that value as the median if and only if there is no median and that value is greater than or equal to the root of the max-heap and less than or equal to the root of the min-heap.  Otherwise, the value is added to the max-heap if and only if it is less than or equal to the root of the max-heap.  The value is added to the min-heap otherwise.  Similarly, a successful removal of an integer would involve either removing the median if and only if it is equivalent to the integer to remove or removing the integer from its heap.  After each addition or successful removal of an integer, if the sizes of the heaps are not equivalent, a "rebalancing" must occur.  Specifically, if the total number of integers is odd, then the new median is popped off the larger heap.  It is this value that is displayed.  If the total number of integers is even, then the median is pushed to the smaller heap.  The average of the roots of each heap is then displayed.

Another optimization is necessary to fit the program within the time constraints.  Namely, if an integer to be removed is contained in a heap and is not the root, then the integer is marked for removal at a later time.  If, after a root is popped, the integer ends up as the root then the integer is likewise popped.  This provides time savings especially in case such an integer never ends up as the root.  In this case, an unnecessary operation is prevented.  Note that in marking an integer for deletion, then that integer does not "count" in determining the size of the heap.
###The Proof:###
The proof is by induction:

**Base Case:**
Start with two empty heaps and no median.  The first integer to add is the median by the simple fact that it is the only integer.

**Inductive Step 1:**
Add an integer to an odd number of integers.  The inductive hypothesis is that the correct median is provided and that the sizes of the two heaps are equivalent plus the relationship of their roots to the median is as stated above.  When we add the new integer, it is pushed to the appropriate heap.  The median is then pushed to the other heap.  By the inductive hypothesis and the definition of the heaps, the former median is the root of its new heap.  Since each heap has one new member pushed into it and by definition of the heaps, said root is also one of the two middle integers.  By the inductive hypothesis, the fact that the resulting heaps are of equivalent size, and the definition of the heaps, the root of the other heap is the other middle integer.  As a result, the correct value is displayed.

**Inductive Step 2:**
Add an integer to an even number of integers.  The inductive hypothesis is that the heaps are of equivalent size and the root of the max-heap is less than or equal to the root of the min-heap.  If the integer is greater than or equal to the root of the max-heap and less than or equal to the root of the min-heap, then it is correctly designated as the median by the inductive hypothesis and the definition of the heaps.  If the integer is added to one of the heaps, then the root of that heap is popped and correctly designated as the median by the inductive hypothesis, the fact that the added integer "replaced" the new median, and the definition of the heaps.

**Inductive Step 3:**
Remove an integer from an even number of integers.  The inductive hypothesis is the same as that of inductive step 2.  Here, an integer is removed from one of the heaps.  The root of the other heap is popped and correctly designated as the median by the inductive hypothesis, the fact that one integer is removed from each heap, and the definition of the heaps.

**Inductive Step 4:**
Remove an integer from an odd number of integers.  The inductive hypothesis is the same as that of inductive step 1.  If the median is removed, then the correct value is displayed by the inductive hypothesis and definition of the heaps.  If a member of one of the heaps is removed, then the median is pushed into that heap.  By the inductive hypothesis and the definition of the heaps, the former median is the root of the heap.  Since the former median "replaced" the removed integer and the definition of the heaps, said root is also one of the two middle integers.  By the inductive hypothesis, the fact that the resulting heaps are of equivalent size, and the definition of the heaps, the root of the other heap is the other middle integer.  As a result, the correct value is displayed.
###Data Structure Notes###
The worst case running time for pushing an integer into a heap is O(logN), whereas the average case running time for popping an integer from a heap is O(logN).  The running time for peeking at the root of the heap is O(1).

In order to quickly check if an integer exists in a sequence, I used a dictionary.  The key is the integer and the value is the number of times the integer occurs in the sequence.  The average case running time for looking up an integer is O(1).  I also used a dictionary to keep track of the number of times an integer is deleted with a similar arrangement for the key and value.
###Notes on the input###
The first line is the number of operations to run.  Each subsequent line contains either an 'a' (for addition) or 'r' (for removal) followed by an integer separated by a space.
###Notes on the output:###
The output is either an integer or a floating point number with one decimal place.